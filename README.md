# Study Log App

Instagram 스토리 보관함 캘린더에서 영감을 받아 만든 Android 공부 기록 캘린더 앱

![Instagram 스토리 캘린더 레퍼런스](docs/res/story_calendar.jpg)

## 주요 기능

1. **일일 알람**: 매일 정해진 시간에 알람 발생
2. **게시물 작성**: 사진(최대 3장), 요약, 키워드 입력
3. **캘린더 UI**: 월별 캘린더로 게시물 확인
4. **슬라이드 뷰어**: 게시물을 슬라이드로 확인
5. **AI 기반 퀴즈 생성**: Gemini API를 활용한 복습용 퀴즈 자동 생성
6. **데이터베이스**: SQLite를 사용한 로컬 저장

## 기술 스택

- Java
- Android SDK (Min: API 24, Target: API 34)
- SQLite
- RecyclerView
- ViewPager2
- Glide (이미지 로딩)
- Google Gemini API (퀴즈 생성)
- OkHttp (HTTP 클라이언트)

## 설정 방법

### 1. Gemini API 키 설정

1. **Google AI Studio**에서 API 키 발급:
   - https://makersuite.google.com/app/apikey 접속
   - Google 계정으로 로그인
   - "Create API Key" 클릭하여 API 키 생성

2. **API 키 입력**:
   - `app/src/main/java/com/example/studylogapp/ai/GeminiQuizGenerator.java` 파일 열기
   - 20번째 줄의 `API_KEY` 상수에 발급받은 API 키 입력:
   ```java
   private static final String API_KEY = "여기에_API_키_입력";
   ```

### 2. 프로젝트 빌드

1. Android Studio에서 프로젝트 열기
2. Gradle 동기화 (`File` → `Sync Project with Gradle Files`)
3. 의존성 자동 다운로드 대기

## 사용 방법

### 기본 기능

#### 1. 게시물 작성
1. 메인 화면에서 **"공부 기록 캘린더"** 버튼 클릭
2. 캘린더에서 날짜 선택
3. **"사진 추가"** 버튼으로 사진 추가 (최대 3장)
   - 카메라로 촬영 또는 갤러리에서 선택
4. 각 사진에 대해:
   - **요약**: 학습 내용 1줄 요약 (최대 50자)
   - **키워드**: 핵심 키워드 입력 (최대 20자)
5. **"저장"** 버튼 클릭
   - 저장 시 첫 번째 게시물을 기반으로 AI 퀴즈가 자동 생성됩니다

#### 2. 캘린더에서 게시물 확인
1. 캘린더에서 게시물이 있는 날짜는 썸네일이 표시됩니다
2. 날짜 클릭:
   - **게시물 있음**: 슬라이드 뷰어로 이동
   - **게시물 없음**: 게시물 작성 화면으로 이동
3. **이전 달/다음 달** 버튼으로 월 이동

#### 3. 슬라이드 뷰어
- 게시물을 슬라이드 형태로 확인
- **편집** 버튼: 게시물 수정
- **삭제** 버튼: 게시물 삭제

#### 4. AI 퀴즈 기능
1. **퀴즈 자동 생성**:
   - 게시물 저장 시 첫 번째 게시물의 이미지, 요약, 키워드를 기반으로 퀴즈 자동 생성
   - 생성된 퀴즈는 해당 날짜에 저장됩니다

2. **퀴즈 풀기**:
   - 캘린더 화면 하단에 오늘 날짜의 퀴즈가 표시됩니다
   - 4개의 선택지 중 정답 선택
   - 정답/오답 확인 및 설명 표시

3. **퀴즈 특징**:
   - 게시물 내용을 기반으로 한 복습용 객관식 문제
   - 정답 선택 시 초록색, 오답 선택 시 빨간색으로 표시
   - 정답 설명 제공

#### 5. 설정
1. 메인 화면에서 **"설정"** 버튼 클릭
2. **알람 시간 설정**: 일일 알람 시간 변경
3. **알람 ON/OFF**: 알람 활성화/비활성화
4. **데이터 초기화**: 모든 데이터 삭제

## 권한

앱 실행 시 다음 권한이 필요합니다:

- **카메라**: 사진 촬영
- **저장소 읽기/쓰기**: 갤러리 접근 및 이미지 저장
- **알람 설정**: 일일 알람 스케줄링
- **부팅 완료 수신**: 재부팅 후 알람 재설정
- **인터넷**: Gemini API 호출 (퀴즈 생성)

## 빌드 방법

### Android Studio에서 실행

1. **프로젝트 열기**
   - Android Studio 실행
   - `File` → `Open` → 프로젝트 폴더 선택

2. **Gradle 동기화**
   - 자동으로 시작되거나 `File` → `Sync Project with Gradle Files`

3. **에뮬레이터 또는 실제 기기 연결**
   - 에뮬레이터: Device Manager에서 생성
   - 실제 기기: USB 디버깅 활성화 후 연결

4. **앱 실행**
   - 상단 툴바의 재생 버튼(▶️) 클릭
   - 또는 `Run` → `Run 'app'` (단축키: `Shift + F10`)

자세한 실행 방법은 [실행방법.md](실행방법.md) 파일을 참고하세요.

## 주의사항

### API 키 보안
- ⚠️ **중요**: API 키를 GitHub 등 공개 저장소에 업로드하지 마세요
- 프로덕션 빌드에서는 환경 변수나 안전한 설정 파일을 사용하세요
- API 키가 노출되면 즉시 재발급 받으세요

### 퀴즈 생성
- 퀴즈 생성은 네트워크 연결이 필요합니다
- API 호출 실패 시 조용히 처리되며, 게시물 저장은 정상적으로 완료됩니다
- 퀴즈 생성에는 몇 초가 소요될 수 있습니다

### 데이터 저장
- 모든 데이터는 기기 내부에 저장됩니다
- 앱 삭제 시 모든 데이터가 삭제됩니다
- 이미지는 앱의 내부 저장소에 저장됩니다

## 문제 해결

### 퀴즈가 생성되지 않는 경우
1. **API 키 확인**: `GeminiQuizGenerator.java`의 API 키가 올바르게 설정되었는지 확인
2. **인터넷 연결 확인**: Wi-Fi 또는 모바일 데이터 연결 확인
3. **API 할당량 확인**: Google AI Studio에서 API 사용량 확인
4. **로그 확인**: Android Studio의 Logcat에서 "GeminiQuizGenerator" 태그로 오류 확인

### 빌드 오류
- `Build` → `Clean Project` → `Rebuild Project`
- Gradle 동기화 재실행
- Android Studio 재시작

## 라이선스

이 프로젝트는 개인 학습 목적으로 제작되었습니다.

